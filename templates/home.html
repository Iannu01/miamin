{% extends "base.html" %}

{% block content %}
<main>

  <div class="container">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.3.6/js/uikit.min.js">
    </script>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/uikit/3.3.6/css/uikit.min.css'>
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css'>

    <style>
      a:hover {
        text-decoration: none;
      }

      .uk-search-icon-flip svg {
        padding: 0 !important;
        cursor: pointer;
      }

      .visible {
        display: block !important;
      }

      .uk-animation-shake {
        animation-name: uk-shake !important;
      }

      :root {
        --main-color: #fd0;
        --back-ground: #f9f9f9;
        --card-color: #fff;
      }

      .shop-card {
        margin: 10px;
        width: 100%;
        height: 450px;
        background: var(--card-color);
        box-shadow: 0 10px 20px rgba(0, 0, 0, .3);
        border-radius: 5px;
        padding: 10px;
        text-align: center;
        font-family: 'Open Sans Condensed', sans-serif;
      }

      .shop-card .title {
        font-weight: 900;
        text-transform: uppercase;
        font-size: 18px;
        color: #23211f;
        margin-bottom: 5px;
      }

      /* .shop-card .desc {
  font-size: 15px;
  opacity: .8;
  margin-bottom: 3px;
  color: #23211f;
} */

      .desc {
        position: absolute;
        bottom: 0px;
        transform: translate(0px, 100%);
        font-size: 15px;
        opacity: .70;
        color: #fff;
        padding: 2px 2px;
        background-color: #222;
        transition: all 1s ease;
        width: 100%;
      }



      .product {
        position: relative;
        background-position: center center;
        background-repeat: no-repeat;
        overflow: hidden;
        margin: 5px 0;
        height: 70%;
      }

      .product img {
        width: 100%;
        min-height: 100%;
        min-width: 100%;
      }

      .shop-card:hover .desc {
        transform: translate(0px, 0px);
      }

      .cta {
        height: 38px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .price {
        color: var(--main-color);
        font-size: 18px;
        font-weight: 900;
        transition: color .3s ease-in-out;
      }

      .buttonCart {
        font-size: 13px;
        font-weight: 900;
        text-transform: uppercase;
        color: #000;
        padding: 12px 18px;
        cursor: pointer;
        transition: all 300ms;
        line-height: .95;
        border: none;
        background: none;
        outline: none;
        border: 1px solid #000;
        ;
        border-radius: 20px;
      }

      .buttonCart:hover {
        background: linear-gradient(135deg, var(--main-color), var(--main-color));
        color: #fff;
        border: none;
      }

      .products-container {
        width: 100%;
        min-height: 300px;
        margin-left: 20px;
        display: flex;
        flex-wrap: wrap;
      }
    </style>

    <div class="uk-flex uk-flex-wrap uk-child-width-1-1 uk-child-width-1-1@l">

      <div class="uk-padding-large">
        <h1 class="uk-h3 uk-text-center">Products</h1>
        <div uk-filter="target: .filter2" class="uk-width-1-1 filter-main2">
          <div
            class="uk-flex uk-flex-middle uk-flex-column uk-width-1-1 uk-margin-small-bottom filter-options-container2">
            <div class="uk-flex uk-flex-right uk-flex-last uk-flex-1 uk-margin-medium filter-search-container2">
              <form onsubmit="return false;"
                class="uk-subnav uk-subnav-pill uk-search uk-search-default uk-width-medium">
                <span class="uk-search-icon-flip" uk-search-icon></span>
                <input onkeyup="filterSearch2();" uk-filter-control="group: name" class="uk-search-input" type="search"
                  placeholder="Search...">
              </form>
            </div>
            <div
              class="uk-flex uk-flex-center uk-flex-left@s uk-grid-small uk-grid-divider uk-child-width-auto uk-margin-small"
              uk-grid>
              <div>
                <ul class="uk-subnav uk-subnav-pill" uk-margin>
                  <li class="uk-active" uk-filter-control="group: tag"><a href="#">All</a></li>
                </ul>
              </div>

              <div>
                <ul class="uk-flex uk-flex-center uk-flex-left@s uk-subnav uk-subnav-pill">
                  <li uk-filter-control="filter: [tag='f1']; group: tag"><a href="#">Electronics</a></li>
                  <li uk-filter-control="filter: [tag='f2']; group: tag"><a href="#">Computers</a></li>
                  <li uk-filter-control="filter: [tag='f3']; group: tag"><a href="#">Smart Home</a></li>
                  <li uk-filter-control="filter: [tag='f4']; group: tag"><a href="#">Arts & Crafts</a></li>
                  <li uk-filter-control="filter: [tag='f5']; group: tag"><a href="#">Clothing, Shoes & Jewelry</a></li>
                </ul>
              </div>
            </div>
          </div>

          <ul class="filter2 uk-child-width-1-1 uk-child-width-1-2@l uk-text-center uk-dark uk-animation-toggle" uk-grid
            tabindex="0">
            <p class="skills-no-result2 uk-hidden uk-text-center uk-width-1-1 uk-margin-small-top uk-h4">No results
            </p>

            <div class="container">
              <div class="row">
                <li class="skills-el2" tag="f1" data-name="Electronics Laptop"></li>
                {% for item in object_list %}

                <!--div class="uk-card uk-card-default uk-card-body"-->
                <!--h3 class="uk-h3 uk-margin-remove">Electronics</h3-->



                <div class="col-lg-4 col-md-6 col-sm-12">
                  <div class='shop-card'>
                    {% comment %}
                    {% endcomment %}
                    <a href="{{ item.get_absolute_url }}" class="dark-grey-text">
                      <div class="title">
                        {{ item.title }}
                        <span class="badge badge-pill {{ item.get_label_display }}-color">NEW</span>

                      </div>

                      <div class="product">
                        <div class="desc">
                          Electronics Description: {{ item.get_category_display }}

                        </div>

                        <img
                          src="https://media.gettyimages.com/id/182357052/photo/electronics-shopping.jpg?s=612x612&w=0&k=20&c=ApmFuKeQq1FaxwDPrnlAz-P5HUOfDH6J6M3nE413o_Y=" />

                      </div>
                      <div class='cta'>
                        <div class="price"> $ {% if item.discount_price %}
                          {{ item.discount_price }}
                          {% else %}
                          {{ item.price }}
                          {% endif %}</div>
                        <button class="buttonCart">Add to cart</button>
                      </div>
                    </a>
                  </div>

                </div>




                <!--/div-->

                {% endfor %}
                </li>

              </div>
            </div>
            <li class="skills-el2" tag="f1" data-name="Electronics Laptop">
              <div class="uk-card uk-card-default uk-card-body">
                <h3 class="uk-h3 uk-margin-remove">Electronics</h3>
              </div>
            </li>
            <li class="skills-el2" tag="f2" data-name="Computers">
              <div class="uk-card uk-card-default uk-card-body">
                <h3 class="uk-h3 uk-margin-remove">Computers</h3>
              </div>
            </li>
            <li class="skills-el2" tag="f3" data-name="Smart Home">
              <div class="uk-card uk-card-default uk-card-body">
                <h3 class="uk-h3 uk-margin-remove">Smart Home</h3>
              </div>
            </li>
            <li class="skills-el2" tag="f4" data-name="Arts & Crafts">
              <div class="uk-card uk-card-default uk-card-body">
                <h3 class="uk-h3 uk-margin-remove">Arts & Crafts</h3>
              </div>
            </li>
            <li class="skills-el2" tag="f5" data-name="Clothing, Shoes & Jewelry">
              <div class="uk-card uk-card-default uk-card-body">
                <h3 class="uk-h3 uk-margin-remove">Clothing, Shoes & Jewelry</h3>
              </div>
            </li>
            <li class="skills-el2" tag="f5" data-name="Clothing, Shoes & Jewelry">
              <div class="uk-card uk-card-default uk-card-body">
                <h3 class="uk-h3 uk-margin-remove">Clothing, Shoes & Jewelry</h3>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <script>
      // CODE FOR Search OR filter

      function filterSearch() {
        var search = $(".uk-search-input").eq(0).val().toLowerCase();
        if (!search) {
          $(".uk-search-input").eq(0).attr("uk-filter-control", "");
        } else {
          $(".uk-search-input").eq(0).attr("uk-filter-control", "filter: [data-name*='" + search + "']");
        }
        $(".uk-search-input").eq(0).click();
      }

      $(".filter-main").on("beforeFilter", function () {
        $(".skills-no-result").removeClass('visible uk-animation-shake');
      });

      $(".filter-main").on("afterFilter", function () {
        var isElementVisible = false;
        var i = 0;

        while (!isElementVisible && i < $(".skills-el").length) {
          if ($(".skills-el").eq(i).is(":visible")) {
            isElementVisible = true;
          }

          i++;
        }

        if (isElementVisible === false) {
          $(".skills-no-result").addClass('visible uk-animation-shake');
        }
      });

      function resetSearchBar() {
        $(".uk-search-input").eq(0).val('');
        $(".uk-search-input").eq(0).val('').attr("uk-filter-control", "");
      }

      // CODE FOR Search AND filter

      function filterSearch2() {
        var search = $(".uk-search-input").eq(0).val().toLowerCase();
        if (!search) {
          $(".uk-search-input").eq(0).attr("uk-filter-control", "group: name");
        } else {
          $(".uk-search-input").eq(0).attr("uk-filter-control", "filter: [data-name*='" + search + "']; group: name");
        }
        $(".uk-search-input").eq(0).click();
      }

      $(".filter-main2").on("beforeFilter", function () {
        $(".skills-no-result").removeClass('visible uk-animation-shake');
      });

      $(".filter-main2").on("afterFilter", function () {
        var isElementVisible = false;
        var i = 0;

        while (!isElementVisible && i < $(".skills-el2").length) {
          if ($(".skills-el2").eq(i).is(":visible")) {
            isElementVisible = true;
          }

          i++;
        }

        if (isElementVisible === false) {
          $(".skills-no-result2").addClass('visible uk-animation-shake');
        }
      });
    </script>
    <!--/.Navbar-->

    <!--Pagination-->

    {% if is_paginated %}
    <nav class="d-flex justify-content-center wow fadeIn">
      <ul class="pagination pg-blue">

        {% if page_obj.has_previous %}
        <li class="page-item">
          <a class="page-link" href="?page={{ page_obj.previous_page_number }}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </a>
        </li>
        {% endif %}

        <li class="page-item active">
          <a class="page-link" href="?page={{ page_obj.number }}">{{ page_obj.number }}
            <span class="sr-only">(current)</span>
          </a>
        </li>

        {% if page_obj.has_next %}
        <li class="page-item">
          <a class="page-link" href="?page={{ page_obj.next_page_number }}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
          </a>
        </li>
        {% endif %}
      </ul>
    </nav>
    {% endif %}

  </div>
</main>

{% endblock content %}